search_index: <%= @node['graphite_api']['search_index'] %>
time_zone: <%= @node['graphite_api']['time_zone'] %>

finders:
  <% @node['graphite_api']['finders'].each do |finder| -%>
  - <%= finder %>
  <% end -%>

functions:
  <% @node['graphite_api']['functions'].each do |function| -%>
  - <%= function %>
  <% end -%>

<% if @node['graphite_api']['whisper']['enabled'] == true -%>
whisper:
  directories:
    <% @node['graphite_api']['whisper']['directories'].each do |directory| -%>
    - <%= directory %>
    <% end -%>
<% end -%>

<% if @node['graphite_api']['influxdb']['enabled'] == true -%>
influxdb:
  hots: <%= @node['graphite_api']['influxdb']['host'] %>
  port: <%= @node['graphite_api']['influxdb']['port'] %>
  user: <%= @node['graphite_api']['influxdb']['user'] %>
  pass: <%= @node['graphite_api']['influxdb']['pass'] %>
  db: <%= @node['graphite_api']['influxdb']['db'] %>
<% end -%>
